require File.join(File.dirname(__FILE__), '<%= '../' * class_nesting_depth %>tap_test_helper.rb') 
require '<%= class_path.empty? ? file_name : File.join(class_path, file_name) %>'

class <%= class_name %>Test < Test::Unit::TestCase
  acts_as_tap_test 
  
  def test_<%= file_name %>
    t = <%= class_name %>.new nil, :key => 'value'
    
    # specify application options
    with_options(:quiet => true, :debug => true) do  
      
      # run the task with some inputs
      t.enq("one")
      app.run
      
      # check the configuration and outputs
      assert_equal({:key  => 'value'}, t.config)
      assert_audit_equal ExpAudit[[nil, "one"], [t, "one was processed with value"]], app._results(t).first

    end
  end
  
end