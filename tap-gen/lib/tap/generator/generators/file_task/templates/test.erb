require File.join(File.dirname(__FILE__), '<%= '../' * const.nesting_depth %>tap_test_helper.rb') 
require '<%= const.path %>'

class <%= const.name %>Test < Test::Unit::TestCase
  acts_as_tap_test 
  
  def test_<%= const.basename %>
    # Use assert_files to test file transform tasks.  The block  
    # recieves the method input files and compares the results 
    # to the method expected files.
  
    # Generated files are often placed in method output, as it
    # is cleaned up each test.  To keep output files, set the 
    # KEEP_OUTPUTS variable:
    #   % rake test keep_outputs=true
  
    t = <%= const.name %>.new 
    assert_files do |input_files|
      input_files.each do |source|
        target = method_root.filepath(:output, 'result.yml') 
        t.enq(source, target)
      end
    
      app.run
      app.results(t)
    end
  end
  
end