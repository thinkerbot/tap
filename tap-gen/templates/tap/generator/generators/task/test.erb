require File.join(File.dirname(__FILE__), '<%= '../' * const.nesting_depth %>tap_test_helper.rb') 
require '<%= const.relative_path %>'

class <%= const.name %>Test < Test::Unit::TestCase
  acts_as_tap_test 
  
  def test_<%= const.basename %>
    task = <%= const.const_name %>.new :message => "goodnight"
    
    # a simple test
    assert_equal({:message  => 'goodnight'}, task.config)
    assert_equal "goodnight moon", task.process("moon")
  end
end